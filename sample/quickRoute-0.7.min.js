/*! quickRoute v0.7 | (c) 2015 Arghya C | https://github.com/chakrabar */
var router=function(){function e(e,t,n){for(var r=0;r<e.length;r++)if(e[r].hasOwnProperty(t)&&e[r][t]==n)return e[r];return null}function t(e){return"undefined"!=typeof e&&null!=e&&0!=e.length}function n(e){var t="";e.message&&(t+=e.message),e.stack&&(t+=" | stack: "+e.stack),window.console&&console.log(t)}function r(){for(var e=0;e<s.length;e++)$("#"+s[e].view).hide()}function o(){if("undefined"==typeof jQuery){var e=document.createElement("script");e.type="text/javascript",e.src="https://code.jquery.com/jquery-1.11.3.min.js",e.onload=i,document.getElementsByTagName("head")[0].appendChild(e)}else i()}function i(){if(0!=s.length){for(var e=window.location.hash,t=!1,n=0;n<s.length;n++)if(e.toLowerCase()=="#"+s[n].hash){d?a(s[n].view):u(s[n].view),t=!0,"string"==typeof s[n].title?document.title=s[n].title:document.title=l;break}t||(d?a(s[0].view):u(s[0].view),document.title=l)}}function a(e){r(),$("#"+e).show()}function u(e){try{$.get(e).done(function(e){if(!t(e))throw new Error("Server did not send any html for view!");$("#"+c).html(e)}).fail(function(e){var t=h.replace("##code##",e.status).replace("##msg##",e.statusText);$("#"+c).html(t)})}catch(r){n(r)}}var s=[],c="",d=!0,l="",h='<div style="border:2px solid red;color: red;padding:10px;margin:10px;border-radius:10px;"><strong>An error occurred while loading view!<br/><br/>Server responded with : [##code##] - ##msg##</strong></div>';return{add:function(e,t,n){if(2==arguments.length||3==arguments.length)s.push({hash:e.toLowerCase(),view:t,title:n});else{if(1!=arguments.length||"object"!=typeof e||!e.hasOwnProperty("hash")||!e.hasOwnProperty("view"))throw new TypeError("Invalid route configuration passed to add.");s.push(e)}},get:function(t){return e(s,"hash",t).view},update:function(t,n,r){var o=e(s,"hash",t);null!=o&&(o.view=value,o.title=r)},init:function(e,t){"string"==typeof e&&(c=e),"boolean"==typeof t&&(d=t),l=document.title,o()},route:function(){return i()}}}();window.onhashchange=router.route;